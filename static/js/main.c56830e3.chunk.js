(this.webpackJsonpskiptheagent=this.webpackJsonpskiptheagent||[]).push([[2],{14:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"m",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return o})),n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return p})),n.d(t,"j",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return j})),n.d(t,"p",(function(){return O})),n.d(t,"o",(function(){return x})),n.d(t,"n",(function(){return h}));var r=function(){return{type:"CHECKING_USER"}},a=function(e){return{type:"SIGN_UP_START",payload:e}},c=function(e){return{type:"SIGN_IN_START",payload:e}},s=function(){return{type:"SIGN_IN_WITH_GOOGLE_START"}},u=function(e){return{type:"SIGN_IN_SUCCESS",payload:e}},o=function(e){return{type:"SIGN_IN_FAILED",payload:e}},i=function(){return{type:"SIGN_OUT_START"}},p=function(){return{type:"SIGN_OUT_SUCCESS"}},l=function(){return{type:"SIGN_OUT_FAILED"}},d=function(e){return{type:"PASSWORD_RESET_START",payload:e}},f=function(){return{type:"PASSWORD_RESET_SUCCESS"}},b=function(e){return{type:"PASSWORD_RESET_FAILED",payload:e}},j=function(e){return{type:"PASSWORD_CHANGE_START",payload:e}},O=function(e){return{type:"UPDATE_USER_START",payload:e}},x=function(){return{type:"UPDATE_USER_SUCCESS"}},h=function(e){return{type:"UPDATE_USER_FAILED",payload:e}}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(24),n(42),n(2),n(60);var r=n(10),a=function(){return Object(r.jsx)("div",{className:"SpinnerOverlay",children:Object(r.jsx)("div",{className:"SpinnerContainer"})})}},52:function(e,t,n){},60:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(28),s=n.n(c),u=(n(52),function(e){e&&e instanceof Function&&n.e(13).then(n.bind(null,116)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))}),o=n(21),i=n(45),p=n.n(i),l=n(47),d={loading:!1,error:null,success:0},f=Object(o.b)({setUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_UP_START":case"SIGN_IN_START":case"SIGN_OUT_START":case"SIGN_IN_WITH_GOOGLE_START":case"PASSWORD_RESET_START":case"UPDATE_USER_START":return Object.assign({},e,{loading:!0,success:0});case"SIGN_IN_SUCCESS":return Object.assign({},e,{loading:!1,user:t.payload,error:null,success:1});case"SIGN_OUT_SUCCESS":return Object.assign({},e,{loading:!1,user:null,error:null,success:1});case"UPDATE_USER_SUCCESS":case"PASSWORD_RESET_SUCCESS":return Object.assign({},e,{loading:!1,error:null,success:1});case"SIGN_IN_FAILED":case"SIGN_OUT_FAILED":case"PASSWORD_RESET_FAILED":case"UPDATE_USER_FAILED":return Object.assign({},e,{loading:!1,error:t.payload,success:0});default:return e}}}),b=n(6),j=n.n(b),O=n(9),x=n(24),h=n(14),S=n(33),g=n(22);n(64),n(54),n(66),n(65);g.a.initializeApp({apiKey:"AIzaSyBu1x4tu6iZPxhkANVuOxzJtjcLBzKW5lc",authDomain:"skiptheagent-react.firebaseapp.com",projectId:"skiptheagent-react",storageBucket:"skiptheagent-react.appspot.com",messagingSenderId:"470859456457",appId:"1:470859456457:web:db0de858f2e69e70b1d218",measurementId:"G-N1ZG0Z7E9P"}),g.a.analytics();var _=new g.a.auth.GoogleAuthProvider,m=g.a.storage(),T=g.a.auth(),v=g.a.firestore(),y=function(){var e=Object(S.a)(j.a.mark((function e(t,n){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.log("No user found"),e.abrupt("return");case 3:return r=v.doc("users/".concat(t.uid)),e.next=6,r.get();case 6:return e.sent.exists?console.log("not overwrited"):(t.displayName?a=t.displayName:(a=n,t.updateProfile({displayName:a}).then((function(e){return console.log("displayname set")})).catch((function(e){return console.log(e)}))),r.set({displayName:a,email:t.email,createdAt:new Date,username:t.email,mobile:"",zip:"",gender:"",country:"",city:"",uid:t.uid,imgurl:"https://firebasestorage.googleapis.com/v0/b/skiptheagent-react.appspot.com/o/images%2Fjohn.png?alt=media&token=0d3308e7-6b4f-4f4b-95f0-a2ba97595945"}).catch((function(e){alert(e.message)}))),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(S.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.log("No user found"),e.abrupt("return");case 3:return r=v.doc("users/".concat(t.uid)),e.next=6,r.get();case 6:e.sent.exists&&r.update(n).then((function(){return alert("update success")})).catch((function(e){return console.log(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=j.a.mark(B),A=j.a.mark(K),k=j.a.mark(J),I=j.a.mark(Z),R=j.a.mark(M),N=j.a.mark(q),U=j.a.mark(V),P=j.a.mark(Q),G=j.a.mark(X),D=j.a.mark(Y),C=j.a.mark($),L=j.a.mark(ee),W=j.a.mark(te),z=j.a.mark(ne),F=j.a.mark(re),H=j.a.mark(ae);function B(){var e,t,n,r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,new Promise((function(e,t){var n=T.onAuthStateChanged((function(t){n(),e(t)}),t)}));case 2:return e=a.sent,a.next=5,y(e);case 5:if(!(t=a.sent)){a.next=13;break}return a.next=9,t.get();case 9:return n=a.sent,r=n.data(),a.next=13,Object(O.c)(Object(h.h)(r));case 13:case"end":return a.stop()}}),w)}function K(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("CHECKING_USER",B);case 2:case"end":return e.stop()}}),A)}function J(e){var t,n,r,a,c,s;return j.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,u.prev=1,u.next=4,T.createUserWithEmailAndPassword(t.email,t.password);case 4:return n=u.sent,r=n.user,u.next=8,y(r,t.name);case 8:if(!(a=u.sent)){u.next=16;break}return u.next=12,a.get();case 12:return c=u.sent,s=c.data(),u.next=16,Object(O.c)(Object(h.h)(s));case 16:u.next=23;break;case 18:return u.prev=18,u.t0=u.catch(1),alert(u.t0),u.next=23,Object(O.c)(Object(h.f)({error:u.t0}));case 23:case"end":return u.stop()}}),k,null,[[1,18]])}function Z(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("SIGN_UP_START",J);case 2:case"end":return e.stop()}}),I)}function M(e){var t,n,r,a,c,s;return j.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,u.prev=1,u.next=4,T.signInWithEmailAndPassword(t.email,t.password);case 4:return n=u.sent,r=n.user,u.next=8,y(r);case 8:if(!(a=u.sent)){u.next=16;break}return u.next=12,a.get();case 12:return c=u.sent,s=c.data(),u.next=16,Object(O.c)(Object(h.h)(s));case 16:u.next=23;break;case 18:return u.prev=18,u.t0=u.catch(1),u.next=22,Object(O.c)(Object(h.f)({error:u.t0}));case 22:alert(u.t0);case 23:case"end":return u.stop()}}),R,null,[[1,18]])}function q(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("SIGN_IN_START",M);case 2:case"end":return e.stop()}}),N)}function V(){var e,t,n,r,a;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,T.signInWithPopup(_);case 3:return e=c.sent,t=e.user,c.next=7,y(t);case 7:if(!(n=c.sent)){c.next=15;break}return c.next=11,n.get();case 11:return r=c.sent,a=r.data(),c.next=15,Object(O.c)(Object(h.h)(a));case 15:c.next=23;break;case 17:return c.prev=17,c.t0=c.catch(0),c.next=21,Object(O.c)(Object(h.f)(c.t0.message));case 21:return c.next=23,alert(c.t0.message);case 23:case"end":return c.stop()}}),U,null,[[0,17]])}function Q(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("SIGN_IN_WITH_GOOGLE_START",V);case 2:case"end":return e.stop()}}),P)}function X(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.signOut();case 3:return e.next=5,Object(O.c)(Object(h.l)());case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,alert(e.t0);case 11:return e.next=13,Object(O.c)(Object(h.j)({err:e.t0}));case 13:case"end":return e.stop()}}),G,null,[[0,7]])}function Y(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("SIGN_OUT_START",X);case 2:case"end":return e.stop()}}),D)}function $(e){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,T.sendPasswordResetEmail(t.email);case 4:return n.next=6,Object(O.c)(Object(h.e)());case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(O.c)(Object(h.d)(n.t0));case 12:alert(n.t0.message);case 13:case"end":return n.stop()}}),C,null,[[1,8]])}function ee(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("PASSWORD_RESET_START",$);case 2:case"end":return e.stop()}}),L)}function te(e){var t,n,r,a,c;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.prev=1,console.log(t),n=t.usercredentials,s.next=6,T.currentUser;case 6:if(r=s.sent,!t.images.images){s.next=19;break}return s.next=10,m.ref("/images/".concat(r.uid,"/profile.jpg"));case 10:return a=s.sent,s.next=13,a.put(t.images.images);case 13:if("success"!==s.sent.state){s.next=19;break}return s.next=17,a.getDownloadURL();case 17:(c=s.sent)&&(n=Object(x.a)(Object(x.a)({},t.usercredentials),{},{imgurl:c}));case 19:return s.next=21,E(r,n);case 21:return s.next=23,Object(O.c)(Object(h.o)());case 23:return s.next=25,B();case 25:s.next=32;break;case 27:return s.prev=27,s.t0=s.catch(1),alert(s.t0.message),s.next=32,Object(O.c)(Object(h.n)(s.t0));case 32:case"end":return s.stop()}}),W,null,[[1,27]])}function ne(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("UPDATE_USER_START",te);case 2:case"end":return e.stop()}}),z)}function re(e){var t,n;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,T.currentUser;case 3:(n=r.sent)&&n.updatePassword(t).then((function(){alert("Password Update")})).catch((function(e){console.log(e),alert(e),"auth/requires-recent-login"===e.code&&(alert("Login Again"),X())}));case 5:case"end":return r.stop()}}),F)}function ae(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("PASSWORD_CHANGE_START",re);case 2:case"end":return e.stop()}}),H)}var ce=j.a.mark(se);function se(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)([Object(O.b)(Z),Object(O.b)(q),Object(O.b)(K),Object(O.b)(Y),Object(O.b)(Q),Object(O.b)(ee),Object(O.b)(ne),Object(O.b)(ae)]);case 2:case"end":return e.stop()}}),ce)}var ue=Object(l.a)(),oe=[ue,p.a],ie=Object(o.d)(f,o.a.apply(void 0,oe));ue.run(se);var pe=n(27),le=n(38),de=n(39),fe=n(41),be=n(40),je=n(37),Oe=n(11),xe=n(44),he=n(10),Se=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,119))})),ge=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,122))})),_e=Object(r.lazy)((function(){return n.e(8).then(n.bind(null,123))})),me=Object(r.lazy)((function(){return n.e(9).then(n.bind(null,124))})),Te=Object(r.lazy)((function(){return n.e(7).then(n.bind(null,117))})),ve=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,120))})),ye=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,121))})),Ee=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(5)]).then(n.bind(null,118))})),we=function(e){Object(fe.a)(n,e);var t=Object(be.a)(n);function n(){return Object(le.a)(this,n),t.apply(this,arguments)}return Object(de.a)(n,[{key:"componentDidMount",value:function(){fetch("https://skiptheagent.herokuapp.com/").then((function(e){return 200===e.status?window.location.href="https://skiptheagent.herokuapp.com/":null})),this.props.isUserAuthenticated()}},{key:"render",value:function(){var e=this.props.user;return Object(he.jsx)(je.a,{basename:"/skiptheagent",children:Object(he.jsx)(r.Suspense,{fallback:Object(he.jsx)(xe.a,{}),children:Object(he.jsxs)(Oe.d,{children:[Object(he.jsx)(Oe.b,{exact:!0,path:"/",component:Se}),Object(he.jsx)(Oe.b,{exact:!0,path:"/listing",component:ge}),Object(he.jsx)(Oe.b,{exact:!0,path:"/login",render:function(){return e?Object(he.jsx)(Oe.a,{to:"/dashboard"}):Object(he.jsx)(_e,{})}}),Object(he.jsx)(Oe.b,{exact:!0,path:"/register",render:function(){return e?Object(he.jsx)(Oe.a,{to:"/dashboard"}):Object(he.jsx)(me,{})}}),Object(he.jsx)(Oe.b,{exact:!0,path:"/forget",component:Te}),Object(he.jsx)(Oe.b,{exact:!0,path:"/ownership",component:ve}),Object(he.jsx)(Oe.b,{exact:!0,path:"/details",component:ye}),Object(he.jsx)(Oe.b,{path:"/dashboard",render:function(){return e?Object(he.jsx)(Ee,{}):Object(he.jsx)(Oe.a,{to:"/login"})}})]})})})}}]),n}(a.a.Component),Ae=Object(pe.b)((function(e){return{user:e.setUser.user}}),(function(e){return{isUserAuthenticated:function(){return e(Object(h.a)())}}}))(we);s.a.render(Object(he.jsx)(pe.a,{store:ie,children:Object(he.jsx)(a.a.StrictMode,{children:Object(he.jsx)(Ae,{})})}),document.getElementById("root")),u()}},[[63,3,4]]]);
//# sourceMappingURL=main.c56830e3.chunk.js.map